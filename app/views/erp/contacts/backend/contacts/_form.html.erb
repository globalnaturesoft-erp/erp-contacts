<%= form_for([erp_contacts, :backend, contact]) do |f| %>
    <div class="form-body">        
        <div class="row">
            <div class="col-md-6">
                <div class="portlet light bordered">
                    <div class="portlet-body form">
                        <div class="row">
                            <div class="col-md-8">
                                <%= erp_form_control("radio", {
                                    name: 'contact[contact_type]',
                                    label: t('type'),
                                    value: @contact.contact_type,
                                    options: Erp::Contacts::Contact.get_type_options()
                                }) %>
                                <%= erp_form_control("text", {
                                    name: 'contact[name]',
                                    value: contact.name,
                                    label: 'Name',
                                    help: 'This field is required...',
                                    placeholder: 'Enter full name...',
                                    required: true,
                                    errors: contact.errors.full_messages_for(:name)
                                }) %>
                                <%= erp_form_control("dataselect", {
                                    name: 'contact[company_id]',
                                    value: contact.company_id,
                                    text: contact.display_company,
                                    placeholder: t('contacts.contact.select_company'),
                                    label: t('contacts.contact.company'),
                                    url: erp_contacts.dataselect_backend_contacts_path(format: 'json'),
                                    create: {
                                        url: erp_contacts.new_backend_contact_url(contact_type: Erp::Contacts::Contact::TYPE_COMPANY),
                                        title: t('contacts.contact.create'),
                                        container_selector: '.new_contact',
                                        input_selector: 'input[name="contact[name]"]',
                                        modal_size: "full"
                                    }
                                }) %>
                            </div>
                            <div class="col-md-4">
                                <%= erp_form_control('image', {
                                    img_src: contact.image_url,
                                    name: 'contact[image_url]'
                                }) %>
                            </div>
                        </div>
                        
                        <%= erp_form_control('date', {
                            label: t('birthday'),
                            name: 'contact[birthday]',
                            value: contact.birthday
                        }) %>
                    
                        <%= erp_form_control("text", {
                            name: 'contact[address_1]',
                            value: contact.address_1,                   
                            label: t(:address_1),
                            help: 'This field is required...',
                            placeholder: "Enter address 1..."
                        }) %>
                        
                        <%= erp_form_control("text", {
                            name: 'contact[address_2]',
                            value: contact.address_2,                   
                            label: t(:address_2),
                            help: 'This field is required...',
                            placeholder: "Enter address 2..."
                        }) %>
                            
                        <div class="row">
                            <div class="col-md-4">
                                <%= erp_form_control("text", {
                                    name: 'contact[city]',
                                    value: contact.city,                   
                                    label: 'City',
                                    placeholder: "Enter city..."
                                }) %>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label">State</label>
                                    <select class="form-control select2" id="form_control_1">
                                        <option value=""></option>
                                        <option value="1">California</option>
                                        <option value="2">...</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <%= erp_form_control("text", {
                                    name: 'contact[zip]',
                                    value: contact.zip,
                                    label: t('zip_code'),
                                    help: 'This field is required...',
                                    placeholder: "Enter ZIP Code..."
                                }) %>
                            </div>
                        </div>
                        
                        <%= erp_form_control('select', {
                            label: t('contacts.contact.country'),
                            name: 'contact[country_id]',
                            id: '',
                            options: [
                                {value: 'VI', text: 'Viet Nam'},
                                {value: 'US', text: 'United States'},
                                {value: 'EN', text: 'England'},
                                {value: 'AU', text: 'Australia'}
                            ]
                        }) %>
                       
                        <%= erp_form_control("text", {
                            name: 'contact[job_position]',
                            value: contact.job_position,                   
                            label: t(:job_position),
                            help: 'This field is required...',
                            placeholder: "E.g. Sales Director"
                        }) %>
                        
                        <%= erp_form_control("text", {
                            name: 'contact[phone]',
                            value: contact.phone,                   
                            label: t(:phone),
                            help: 'This field is required...',
                            placeholder: "Enter phone number..."
                        }) %>
                        
                        <%= erp_form_control("text", {
                            name: 'contact[mobile]',
                            value: contact.mobile,                   
                            label: t(:mobile),
                            help: 'This field is required...',
                            placeholder: "Enter mobile number..."
                        }) %>
                            
                        <%= erp_form_control("email", {
                            name: 'contact[email]',
                            value: contact.email,                   
                            label: t(:email_address),
                            help: "user@domain.com",
                            placeholder: "Enter your email...",
                            required: false,
                            errors: contact.errors.full_messages_for(:email)
                        }) %>
        
                        <%= erp_form_control("text", {
                            name: 'contact[website]',
                            value: contact.website,                   
                            label: t(:website),
                            help: 'This field is required...',
                            placeholder: "E.g. https://www.globalnaturesoft.com"
                        }) %>
        
                        <%= erp_form_control("text", {
                            name: 'contact[fax]',
                            value: contact.fax,
                            label: t(:fax),
                            help: 'This field is required...',
                            placeholder: "Enter fax..."
                        }) %>
                        
                        <%= erp_form_control("dataselect", {
                            name: 'contact[title_id]',
                            value: contact.title_id,
                            text: contact.display_title,
                            placeholder: '',
                            label: t(:title),
                            url: erp_contacts.dataselect_backend_titles_path(format: 'json'),
                            create: {
                                url: erp_contacts.new_backend_title_url,
                                title: 'Create new title',
                                container_selector: '.new_title',
                                input_selector: 'input[name="title[title]"]'
                            }
                        }) %>
        
                        <div class="form-group">
                            <label class="control-label">Tags</label>
                            <input type="text" class="form-control" value="" data-role="tagsinput" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="tabbable-custom ">
                    <ul class="nav nav-tabs ">
                        <li class="active">
                            <a href="#tab_5_1" data-toggle="tab"> <%= t('contacts.contact.contacts_address') %> </a>
                        </li>
                        <li>
                            <a href="#tab_5_2" data-toggle="tab"> <%= t('contacts.contact.sales_purchases') %> </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane active" id="tab_5_1">
                        
                            <%= erp_form_control("addablelist", {
                                button_text: t('contacts.contact.add'),
                                create: {
                                    url: erp_contacts.new_backend_contact_contact_url(contact_id: (contact.id.present? ? contact.id : 0)),
                                    title: 'Create new contact',
                                    container_selector: '.new_contact',
                                    modal_size: 'md',
                                    list_partial: 'backend/contacts_contacts/contact',
                                    list_items: contact.contacts,
                                    list_item: :contact
                                }
                            }) %>
                        </div>
                        <div class="tab-pane" id="tab_5_2">
                            <div class="row">
                                <div class="col-md-6">
                                    <h4><%= t('contacts.contact.sale') %></h4>
                                    <%= erp_form_control('checkbox', {
                                        name: '',
                                        id: '',
                                        label: '',
                                        options: [{value: '1', text: t('contacts.contact.is_a_customer')}]
                                    }) %>
                                    <%= erp_form_control("dataselect", {
                                        name: '',
                                        value: '1',
                                        text: 'Hung Nguyen',
                                        placeholder: '',
                                        label: t('contacts.contact.salesperson'),
                                        url: erp_contacts.dataselect_backend_titles_path(format: 'json')
                                    }) %>
                                    <br/>
                                    <h4><%= t('contacts.contact.misc') %></h4>
                                    <%= erp_form_control("text", {
                                        name: '',
                                        value: '',                   
                                        label: t('contacts.contact.internal_reference')
                                    }) %>
                                </div>
                                <div class="col-md-6">
                                    <h4><%= t('contacts.contact.purchases') %></h4>
                                    <%= erp_form_control('checkbox', {
                                        name: '',
                                        id: '',
                                        label: '',
                                        options: [{value: '2', text: t('contacts.contact.is_a_vendor')}]
                                    }) %>
                                </div>
                            </div>
                            <div class="row">
                                
                            </div>
                        </div>
                    </div>
                </div>
                <br />
                <h3>
                    <span aria-hidden="true" class="fa fa-sticky-note-o"></span> <%= t('contacts.contact.internal_notes') %>
                </h3>
                <div class="tabbable-custom ">
                    <div class="tab-content">
                        <div class="tab-pane active" id="tab_5_1">
                                <%= erp_form_control("textarea", {
                                    name: 'contact[internal_note]',
                                    value: contact.internal_note,                   
                                    label: '',
                                    placeholder: "Enter internal notes here..."
                                }) %>
                        </div>                
                    </div>
                </div>
            </div>
        </div>
    </div>
    <%= erp_component('button/save', {
        text: 'nút đang để test',
        class: ''
    }) %>
<% end %>